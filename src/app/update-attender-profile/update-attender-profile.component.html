<div class="min-h-screen bg-gray-50 flex items-center justify-center p-6">
  <div *ngIf="submitted; else profileForm">
    <div class="bg-white shadow-lg rounded-2xl p-8 max-w-2xl w-full text-center">
      <img
        *ngIf="profileData?.avatar"
        [src]="profileData.avatar"
        alt="Avatar"
        class="w-24 h-24 rounded-full mx-auto mb-4"
      />
      <h3 class="text-2xl font-semibold">Profile Updated</h3>
      <p class="text-gray-600 mt-2">
        Your profile details have been saved successfully.
      </p>
      <button
        (click)="goToDashboard()"
        class="mt-6 px-5 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-full"
      >
        Go to Dashboard
      </button>
    </div>
  </div>

  <ng-template #profileForm>
    <div class="bg-white rounded-2xl shadow-lg p-8 w-full max-w-4xl">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <!-- Sidebar -->
<!-- Sidebar -->
<aside class="flex flex-col items-center text-center p-6 border-r border-gray-100">
  <div class="relative">
    <!-- Circle avatar with initials -->
    <div
      class="w-24 h-24 rounded-full bg-blue-500 flex items-center justify-center text-white text-3xl font-semibold shadow-md"
    >
      {{ name ? name.substring(0, 2).toUpperCase() : 'AT' }}
    </div>
  </div>

  <!-- Name and role -->
  <!-- <h2 class="mt-4 text-lg font-semibold text-gray-800">{{ name || 'attender8000' }}</h2>
  <p class="text-sm text-gray-500">Darshan Attender Profile</p> -->

  <div class="mt-6">
    <h3 class="text-lg font-semibold text-gray-800">Update Your Profile</h3>
    <p class="mt-1 text-sm text-gray-600 max-w-xs">
      A few details to complete your approver account.
    </p>
    <span
      class="mt-4 inline-block bg-blue-100 text-blue-700 px-3 py-1 rounded-full text-sm font-medium"
      >Approver</span
    >
  </div>
</aside>


        <!-- Form -->
        <section class="md:col-span-2">
          <form (ngSubmit)="onSubmit()" #profileForm="ngForm" class="space-y-5">
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div>
                <label for="name" class="block text-gray-700 font-medium"
                  >Full Name</label
                >
                <input
                  id="name"
                  type="text"
                  [(ngModel)]="name"
                  name="name"
                  class="input"
                  placeholder="John Doe"
                />
              </div>

              <div>
                <label for="gender" class="block text-gray-700 font-medium"
                  >Gender</label
                >
                <select
                  id="gender"
                  [(ngModel)]="gender"
                  name="gender"
                  class="input"
                >
                  <option value="" disabled>Select Gender</option>
                  <option value="female">Female</option>
                  <option value="male">Male</option>
                  <option value="non-binary">Non-binary</option>
                  <option value="prefer-not-to-say">Prefer not to say</option>
                </select>
              </div>
            </div>

            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div>
                <label for="dob" class="block text-gray-700 font-medium"
                  >Date of Birth</label
                >
                <input
                  id="dob"
                  type="date"
                  [(ngModel)]="dob"
                  name="dob"
                  class="input"
                />
              </div>

              <div>
                <label for="aadhar" class="block text-gray-700 font-medium"
                  >Aadhar (optional)</label
                >
                <input
                  id="aadhar"
                  type="text"
                  [(ngModel)]="aadhar"
                  name="aadhar"
                  maxlength="20"
                  class="input"
                  placeholder="1234 5678 9012"
                />
              </div>
            </div>

            <div>
              <label for="address" class="block text-gray-700 font-medium"
                >Address</label
              >
              <textarea
                id="address"
                rows="3"
                [(ngModel)]="address"
                name="address"
                class="input"
                placeholder="123 Main St, Anytown"
              ></textarea>
            </div>

            <div class="flex items-center justify-between">
              <small class="text-gray-500">
                Fields can be updated later from your profile settings.
              </small>
              <div class="flex gap-3">
                <button
                  type="button"
                  (click)="resetForm()"
                  class="px-4 py-2 border border-gray-300 rounded-full hover:bg-gray-100"
                >
                  Reset
                </button>
                <button
                  type="submit"
                  [disabled]="loading"
                  class="px-5 py-2 rounded-full text-white bg-indigo-600 hover:bg-indigo-700 flex items-center"
                >
                  <svg
                    *ngIf="loading"
                    class="animate-spin h-4 w-4 mr-2"
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                  >
                    <circle
                      class="opacity-25"
                      cx="12"
                      cy="12"
                      r="10"
                      stroke="currentColor"
                      stroke-width="4"
                    ></circle>
                    <path
                      class="opacity-75"
                      fill="currentColor"
                      d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"
                    ></path>
                  </svg>
                  {{ loading ? 'Savingâ€¦' : 'Update Profile' }}
                </button>
              </div>
            </div>
          </form>
        </section>
      </div>
    </div>
  </ng-template>
</div>
